<div class="container">
  <h2 mat-dialog-title class="tabs">
    <a (click)="changeState('login')" [class.active]="state === 'login'">{{'Login' | translate}}</a>
    <a (click)="changeState('signup')" [class.active]="state === 'signup'">{{'SignUp' | translate}}</a>
  </h2>
  <form class="container" autocomplete="false" (submit)="login()">
    <mat-dialog-content>
      <div>
        <mat-form-field class="">
          <input matInput [placeholder]="'Email' | translate" id="email" name="email" autocomplete="new-password"
            [formControl]="emailFormControl" [errorStateMatcher]="errorStateMatcher">
          <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
            {{'Please enter a valid email address' | translate}}
          </mat-error>
          <mat-error *ngIf="emailFormControl.hasError('required')">
            {{'Email is required' | translate}}
          </mat-error>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field class="">
          <input matInput type="password" [placeholder]="'Password' | translate" id="password" name="password" autocomplete="new-password"
            [formControl]="passwordFormControl" [errorStateMatcher]="errorStateMatcher">
          <mat-error *ngIf="passwordFormControl.hasError('minlength') && !passwordFormControl.hasError('required')">
            {{'Password should have at least 6 characters' | translate}}
          </mat-error>
          <mat-error *ngIf="passwordFormControl.hasError('required')">
            {{'Password is required' | translate}}
          </mat-error>
        </mat-form-field>
        <div class="error-message" *ngIf="errorMessage">{{errorMessage}}</div>
      </div>
    </mat-dialog-content>
    <mat-dialog-actions>
      <button mat-button type="submit">{{state === 'login' ? ('Login' | translate) : ('SignUp' | translate)}}</button>
      <button mat-button (click)="close()">{{'Cancel' | translate}}</button>
    </mat-dialog-actions>
  </form>
</div>